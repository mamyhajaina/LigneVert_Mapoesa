<div class="pagetitle">
  <h1>Enregistrement d'appel</h1>
  <nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="index.html">Home</a></li>
      <li class="breadcrumb-item">Appel</li>
    </ol>
  </nav>
</div>

<section class="section">
  <form #myForm="ngForm">
  <div class="row">
    <div class="col-lg-6">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Information Appelant</h5>
          
            <div class="row mb-3">
              <label for="inputText" class="col-sm-2 col-form-label">Nom</label>
              <div class="col-sm-10">
                  <input [(ngModel)]="nomAppelant" [ngModelOptions]="{ standalone: true }" type="text" class="form-control" >
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputText" class="col-sm-2 col-form-label">Numero</label>
              <div class="col-sm-10">
                <input [(ngModel)]="numeroAppelant" [ngModelOptions]="{ standalone: true }" type="text" class="form-control">
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-sm-2 col-form-label">Sexe</label>
              <div class="col-sm-10">
                <select [(ngModel)]="sexe" [ngModelOptions]="{ standalone: true }" class="form-select" aria-label="Default select example">
                  <option selected>Selectionner le sexe</option>
                  <option value="Femme">Femme</option>
                  <option value="Homme">Homme</option>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputPassword" class="col-sm-2 col-form-label">Resume</label>
              <div class="col-sm-10">
                <textarea [(ngModel)]="resumer" [ngModelOptions]="{ standalone: true }" class="form-control" style="height: 100px"></textarea>
              </div>
            </div>
          
        </div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Information Projet</h5>
          
            <div class="row mb-3">
              <label class="col-sm-2 col-form-label">Categorie</label>
              <div class="col-sm-10">
                <select [(ngModel)]="selectedCategorieAppelId" [ngModelOptions]="{ standalone: true }"  class="form-select" aria-label="Default select example">
                  <option selected>Selectionner Categorie</option>
                  <option value="1">Categorie 1</option>
                  <option value="2">Categorie 2</option>
                  <option value="3">Categorie 3</option>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-sm-2 col-form-label">Projet</label>
              <div class="col-sm-10">
                <select class="form-select" aria-label="Default select example" [(ngModel)]="selectedProjetId" [ngModelOptions]="{ standalone: true }" (change)="onProjetSelectionChanged()">
                  <option selected>Selectionner le projet</option>
                  <option *ngFor="let item of projet" value="{{ item.idProjet }}"  >{{ item.nomProjet }}</option>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <label for="inputText" class="col-sm-2 col-form-label">Categorie Socio</label>
              <div class="col-sm-10">
                <input [(ngModel)]="categireSocio" [ngModelOptions]="{ standalone: true }" type="text" class="form-control">
              </div>
            </div>
            
            <div class="row mb-3">
              <label for="inputDate" class="col-sm-2 col-form-label">Date</label>
              <div class="col-sm-10">
                <input [(ngModel)]="date" [ngModelOptions]="{ standalone: true }" type="date" class="form-control">
              </div>
            </div>
          
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-6">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Localisation</h5>
          <ngx-spinner name="spinnerLocalisation" bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "ball-circus" [fullScreen] = "false"><p style="color: white" ><p style="color: white" > Loading... </p></ngx-spinner>
          
            <div class="row mb-3">
              <label class="col-sm-2 col-form-label">Region</label>
              <div class="col-sm-10">
                <select class="form-select" aria-label="Default select example" [(ngModel)]="selectedRegionId" [ngModelOptions]="{ standalone: true }" (change)="onRegionSelectionChanged()">
                  <option selected>Selectionner region</option>
                  <option *ngFor="let regions of region"  value="{{regions.idRegion }}">{{ regions.nomRegion }}</option>
                </select>
              </div>
            </div>
            <div class="row mb-3">
              <label class="col-sm-2 col-form-label">Distrique</label>
              <div class="col-sm-10">
                <select [(ngModel)]="selectedDistriqueId" [ngModelOptions]="{ standalone: true }" class="form-select" aria-label="Default select example">
                  <option selected>Selectionner le distrique</option>
                  <option *ngFor="let distriques of distrique"  value="{{ distriques.idDistrique }}">{{ distriques.nomDistrique + " - " + distriques.commune + " - " + distriques.fokotany }}</option>
                </select>
              </div>
            </div>
          
        </div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Classification</h5>
          <ngx-spinner name="spinnerClassification" bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "ball-circus" [fullScreen] = "false"><p style="color: white" ><p style="color: white" > Loading... </p></ngx-spinner>
          
            <div class="row">
              <div class="col-lg-12">
                <div class="row mb-3">
                  <label class="col-sm-2 col-form-label">Volet</label>
                  <div class="col-sm-10">
                    <select class="form-select" aria-label="Default select example" [(ngModel)]="selectedVoletId" [ngModelOptions]="{ standalone: true }" (change)="onVoletSelectionChanged()">
                      <option selected>selectionner le volet</option>
                      <option *ngFor="let volets of volet"  value="{{ volets.idVolet }}">{{ volets.nomVolet }}</option>
                    </select>
                  </div>
                </div>
                <div class="row mb-3">
                  <label class="col-sm-2 col-form-label">Activites</label>
                  <div class="col-sm-10">
                    <select class="form-select" aria-label="Default select example" [(ngModel)]="selectedActiviteId" [ngModelOptions]="{ standalone: true }" (change)="onActiviteSelectionChanged()">
                      <option selected>selectionner activites</option>
                      <option *ngFor="let activites of activite"  value="{{ activites.idActivites }}">{{ activites.nomActivites }}</option>
                    </select>
                  </div>
                </div>
                <div class="row mb-3">
                  <label class="col-sm-2 col-form-label">Details</label>
                  <div class="col-sm-10">
                    <select  [(ngModel)]="selectedDetailsActiviteId" [ngModelOptions]="{ standalone: true }" class="form-select" aria-label="Default select example">
                      <option selected>Select le details</option>
                      <option *ngFor="let detailsActivites of detailsActivite"  value="{{ detailsActivites.idDetailsActivites }}">{{ detailsActivites.nomDetailsActivites }}</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>
          
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-3">

    </div>
    <div class="col-lg-6">
      <div class="d-grid gap-2 mt-3">
        <button (click)="enregistrementAppel(myForm)" class="btn btn-outline-success" type="button">
          <i class="bi bi-check-circle"></i>Enregistrer
        </button>
      </div>
    </div>
  </div>
  </form>
</section>